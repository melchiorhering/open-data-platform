# ------------------------------------------------------------------
# IMAGE CONFIGURATION
# ------------------------------------------------------------------
image:
  # Default to the local image for your dev setup
  repository: sail
  # CRITICAL: "Never" forces K8s to use the image loaded via 'just build-sail'
  pullPolicy: Never
  tag: "latest"

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

# ------------------------------------------------------------------
# SERVICE ACCOUNT
# ------------------------------------------------------------------
serviceAccount:
  create: true
  annotations: {}
  name: "sail-user"

# ------------------------------------------------------------------
# DRIVER (SERVER) CONFIGURATION
# ------------------------------------------------------------------
driver:
  replicaCount: 1
  service:
    type: ClusterIP
    port: 50051

  resources: {}

  # Environment Variables for the Driver
  env:
    RUST_LOG: info
    SAIL_MODE: kubernetes-cluster
    # Driver listens on all interfaces inside the pod
    SAIL_CLUSTER__DRIVER_LISTEN_HOST: "0.0.0.0"

  volumes: []
  volumeMounts: []

# ------------------------------------------------------------------
# WORKER CONFIGURATION
# ------------------------------------------------------------------
worker:
  # If empty, it inherits the main image (useful for keeping versions synced)
  image: ""
  resources: {}
  volumes: []
  volumeMounts: []

# ------------------------------------------------------------------
# NETWORKING (GATEWAY API)
# ------------------------------------------------------------------
gateway:
  # Placeholder defaults (Helmfile injects the real ones)
  name: internet-gateway
  namespace: default
  # Hostname for routing
  host: "sail.localhost"
